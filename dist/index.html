<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Review</title>
    
    
    <script defer src="https://use.fontawesome.com/releases/v5.15.4/js/all.js" integrity="sha384-rOA1PnstxnOBLzCLMcre8ybwbTmemjzdNlILg8O7z1lUkLXozs4DHonlDtnE7fpc" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/assets/index-b41600c5.css">
  </head>
  <body>
    <main class="h-screen flex items-center justify-center">
        <section class="flex flex-col items-center ">
            <h1 class="font-bold text-3xl mb-5 border-b-8 rounded- border-solid  border-sky-500 pb-2">Our Reviews</h1>
            <article class=" w-96 flex flex-col justify-center items-center rounded-lg px-2 sm:px-5 py-5 shadow-2xl">
                <img src="https://www.course-api.com/images/people/person-1.jpeg" alt="" class="h-28 w-28 rounded-full mb-2" id="avtar">
                <h1 class="font-semibold" id="personName">Name</h1>
                <p class="text-sm" id="job">Job</p>
                <p class="text-center text-sm font mb-4" id="personInfo">Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloremque, nihil magni quisquam ullam pariatur optio perspiciatis? Animi fugit repudiandae quos quisquam, totam minima, laborum iusto accusantium inventore id, excepturi culpa.</p>
                <div>
                    <button class="font-bold text-xl bg-blue-500 text-white px-3 py-1 rounded-full mr-2 hover:bg-blue-600 ease-in-out duration-500" id="nextButton">&gt;</button>
                    <button class="font-bold text-xl bg-blue-500 text-white px-3 py-1 rounded-full hover:bg-blue-600 ease-in-out duration-500" id="previousButton">&lt;</button>
                </div>
            </article>
        </section>
    </main>
  </body>
  <script>
    let nextButton = document.getElementById("nextButton");
let avtar = document.getElementById("avtar");
let personName = document.getElementById("personName");
let personjob = document.getElementById("job");
let personInfo = document.getElementById("personInfo");
let previousButton = document.getElementById("previousButton");
let url = "https://apigenerator.dronahq.com/api/IEjVishw/review";
let currentDataIndex = 0;
let apiData = [];
fetchData = async () => {
  try {
    const response = await fetch(url);
    if (!response.ok) {
      throw new Error("Network response was not ok");
    }
    const data = await response.json();
    apiData = data;
  } catch (error) {
    console.error("Error fetching  data:", error);
  }
};

function addItem() {
  nameofPerson = apiData[currentDataIndex].name;
  personName.textContent = nameofPerson;
  personjob.textContent = apiData[currentDataIndex].job;
  personInfo.textContent = apiData[currentDataIndex].text;
  imgUrl = apiData[currentDataIndex].img;
  avtar.src = imgUrl;
}

function displayNextItem() {
  if (currentDataIndex < apiData.length) {
    currentDataIndex++;
    addItem();
  }
  else {
    console.log("No more images available.");
}
 
}

function displayPreviousItem() {
  if (currentDataIndex > 0) {
    --currentDataIndex;
    addItem();
  }
 if (apiData.length < 0) {
  currentDataIndex = 0
  addItem()
 }
}

window.addEventListener('DOMContentLoaded', async () => {
  await fetchData()
  addItem()
})

nextButton.addEventListener("click", async () => {
  displayNextItem(); 
});

previousButton.addEventListener("click", () => {
  displayPreviousItem();
});

  </script>
</html>
